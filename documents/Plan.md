# ПЛАН АВТОМАТИЗАЦИИ


# 1.	Перечень автоматизируемых сценариев

Кейсы заполнение формы "Оплата по карте" аналогичны кейсам заполнения формы "Кредит по данным карты"

**Позитивные сценарии:**

**1) Отправка формы с валидными данными:**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441"
2.	В поле "Год" ввести "Текущий год + 1"
3.	В поле "Месяц" ввести цифры в диапазоне 01-12
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	В поле "CVC/CVV" ввести цифры в диапазоне 001-999
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Успешно! Операция одобрена банком". В БД статус операции: "APPROVED"*

**2) Отправка формы с валидными данными, где срок действия карты - текущий месяц этого года:**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441"
2.	В поле "Год" ввести "Текущий год"
3.	В поле "Месяц" ввести "Текущий месяц"
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	В поле "CVC/CVV" ввести цифры в диапазоне 001-999
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Успешно! Операция одобрена банком". В БД статус операции: "APPROVED"*


**Негативные сценарии:**

**1) Отправка формы с невалидным номером карты:**
1.	В поле "Номер карты" ввести "4444 4444 4444 4442".
2.	В поле "Год" ввести "Текущий год + 1"
3.	В поле "Месяц" ввести цифры в диапазоне 01-12
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	В поле "CVC/CVV" ввести цифры в диапазоне 001-999
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Ошибка! Банк отказал в проведении операции". В БД статус операции: "DECLINED"*

**2) Отправка формы с картой, у которой истекший срок действия (прошлый год):**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441".
2.	В поле "Год" ввести "Текущий год - 1"
3.	В поле "Месяц" ввести цифры в диапазоне 01-12
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	Поле "CVC/CVV" оставить пустым
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Истёк срок действия карты" под полем "Год". Форма не отправлена.*

**3) Отправка формы с картой, у которой истекший срок действия (прошлый месяц):**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441".
2.	В поле "Год" ввести "Текущий год"
3.	В поле "Месяц" ввести "Текущий месяц - 1"
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	Поле "CVC/CVV" оставить пустым
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Неверно указан срок действия карты" под полем "Месяц". Форма не отправлена.*


**4) Отправка формы, где все поля пустые:**
1.	Оставить все поля пустыми
2.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Поле обязательно для заполнения" под всеми полями. Форма не отправлена.*

**5) Отправка формы с пустым полем "Номер карты":**
1.	Поле "Номер карты" оставить пустым
2.	В поле "Год" ввести "Текущий год + 1"
3.	В поле "Месяц" ввести цифры в диапазоне 01-12
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	В поле "CVC/CVV" ввести цифры в диапазоне 001-999
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Поле обязательно для заполнения" под полем "Номер карты". Форма не отправлена.*

**6) Отправка формы с пустым полем "Год":**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441".
2.	Поле "Год" оставить пустым.
3.	В поле "Месяц" ввести цифры в диапазоне 01-12
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	В поле "CVC/CVV" ввести цифры в диапазоне 001-999
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Поле обязательно для заполнения" под полем "Год". Форма не отправлена.*

**7) Отправка формы с пустым полем "Месяц":**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441".
2.	В поле "Год" ввести "Текущий год + 1"
3.	Поле "Месяц" оставить пустым
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	В поле "CVC/CVV" ввести цифры в диапазоне 001-999
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Поле обязательно для заполнения" под полем "Месяц". Форма не отправлена.*

**8) Отправка формы с пустым полем "Владелец":**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441".
2.	В поле "Год" ввести "Текущий год + 1"
3.	В поле "Месяц" ввести цифры в диапазоне 01-12
4.	Поле "Владелец" оставить пустым
5.	В поле "CVC/CVV" ввести цифры в диапазоне 001-999
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Поле обязательно для заполнения" под полем "Владелец". Форма не отправлена.*

**9) Отправка формы с пустым полем " CVC/CVV ":**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441".
2.	В поле "Год" ввести "Текущий год + 1"
3.	В поле "Месяц" ввести цифры в диапазоне 01-12
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	Поле "CVC/CVV" оставить пустым
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Поле обязательно для заполнения" под полем " CVC/CVV ". Форма не отправлена.*

**10) Отправка формы с номером карты меньше 16 цифр:**
1.	В поле "Номер карты" ввести "4444 4444 4444".
2.	В поле "Год" ввести "Текущий год + 1"
3.	В поле "Месяц" ввести цифры в диапазоне 01-12
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	В поле "CVC/CVV" ввести цифры в диапазоне 001-999
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке "Неверный формат" под полем "Номер карты". Форма не отправлена.*

**11) Отправка формы с указанием неверного формата в поле "Год":**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441".
2.	В поле "Год" ввести "Текущий год + 6"
3.	В поле "Месяц" ввести цифры в диапазоне 01-12
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	В поле "CVC/CVV" ввести цифры в диапазоне 001-999
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке "Неверно указан срок действия карты" под полем "Год". Форма не отправлена.*

**11) Отправка формы с указанием неверного формата в поле "Месяц":**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441".
2.	В поле "Год" ввести "Текущий год + 1"
3.	В поле "Месяц" ввести цифры в диапазоне 0, 13-99
4.	В поле "Владелец" ввести имя пользователя на латинице (допускаются пробелы и дефисы)
5.	В поле "CVC/CVV" ввести цифры в диапазоне 001-999
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке "Неверно указан срок действия карты" под полем "Месяц". Форма не отправлена.*

**12) Отправка формы с указанием неверного формата в поле "Владелец":**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441".
2.	В поле "Год" ввести "Текущий год + 1"
3.	В поле "Месяц" ввести цифры в диапазоне 01-12
4.	В поле "Владелец" ввести имя пользователя на кириллице
5.	В поле "CVC/CVV" ввести цифры в диапазоне 001-999
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке "Неверный формат" под полем "Владелец". Форма не отправлена.*

**13) Отправка формы с указанием неверного формата в поле "CVC/CVV":**
1.	В поле "Номер карты" ввести "4444 4444 4444 4441".
2.	В поле "Год" ввести "Текущий год + 1"
3.	В поле "Месяц" ввести цифры в диапазоне 01-12
4.	В поле "Владелец" ввести имя пользователя на кириллице
5.	В поле "CVC/CVV" ввести цифры в диапазоне 0-99
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке "Неверный формат" под полем "CVC/CVV". Форма не отправлена.*

**СУБД**

Заявлена поддержка двух СУБД: MySQL, PostgreSQL

Необходимо проверить как отображается статус платежа в БД.

* Перечень тестируемых сценариев:*
* При оплате по карте 4444444444444441 - статус APPROVED
* При оплате по карте 4444444444444442 - статус DECLINED
* При отправке заявки на кредит по карте 4444444444444441 - статус APPROVED
* При отправке заявки на кредит по карте 4444444444444442 - статус DECLINED

**API**

*Перечень тестируемых сценариев:*

* При оплате по карте 4444444444444441 - ответ сервера код 200 OK, статус APPROVED 
* При оплате по карте 4444444444444442 - ответ сервера код 200 OK, статус DECLINED
* При отправке заявки на кредит по карте 4444444444444441 - ответ сервера код 200 OK, статус APPROVED
* При отправке заявки на кредит по карте 4444444444444442 - ответ сервера код 200 OK, статус DECLINED


**2. Перечень используемых инструментов с обоснованием выбора**

* Java – язык программирования для написания автотестов
* IntelliJ IDEA – среда разработки для Java
* Git – система контроля версий, где будет хранится проект с автотестами
* GitHub – веб сервис для совместной работы разработчиков, который основан на системе контроля версий Git
* Gradle - cистема автоматической сборки проектов, позволяет подключать нужные библиотеки через настройку зависимостей
* Allure – репортинг и анализ результатов автоматизации
* Selenide - фреймворк (программная библиотека) для автоматизации действий веб-браузера. Предоставление авто-тестам доступа к браузеру
* Junit - платформа для автоматизации тестирования
* Faker - библиотека для генерации рандомных пользовательских данных
* Docker - программное обеспечение для автоматизации развёртывания и управления приложениями в средах с поддержкой контейнеризации. В нашем случае для автоматизации развёртывания и управления SQL и симулятора банковских сервисов.
* SQL - БД для хранения информации о платежах
* MySQL - свободная реляционная система управления базами данных
* PostgeSQL - свободная объектно-реляционная система управления базами данных

**3. Перечень и описание возможных рисков при автоматизации**

1)	Отсутствие спецификации
2)	Изолированные входные данные для тестов
3)	Модификация структуры или дизайна сайта с формой оплаты, изменение название локаторов в HTML коде.
4)	Неоправданная стоимость автоматизации: увеличение стоимости работы из-за увеличения времени на разработку автоматизированных тестов, их отладку и модификацию.

**4. Интервальная оценка с учётом рисков**

1)	Подготовка и настройка проекта – 8 часов
2)	Написание плана тестирования – 8 часов
3)	Написание автотестов – от 56 часов до 72 часов
4)	Написание отчетов о тестировании – 8 часов

**5. План сдачи работ**

1)	Написание плана тестирования – 3 дня
2)	Написание автотестов - от 14 до 18 дней
3)	Написание отчета по автоматизации - 3 дня
